<!DOCTYPE html>
<html>
<head>
  <title>司夏作品查询工具</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
  <div id="app">
  <h2>司夏_西国の海妖作品查询工具</h2>
  <el-tabs type="border-card" v-model="activeName">
    <el-tab-pane label="使用须知" name="alert">
        <h4>媒体库更新时间 {{ updateTime }}</h4>
        1. 本工具数据来自 西国の海妖吧 闻名天下的大盗<br>
        2. 考虑到版权问题，所有歌曲的跳转链接都为各大音乐平台在线播放链接，无连接歌曲请自行在作品集中查找<br>
        3. 跳转链接的优先级为：网易云音乐>5Sing>QQ音乐>其他平台<br>
        4. 同平台内重复资源：音质优先，音质相同大王账号下优先<br><br>
        <el-button @click="onGoto('https://music.163.com/#/artist?id=10089')" style="margin:10px">转到 司夏（网易云音乐）</el-button>
         <el-button @click="onGoto('https://space.bilibili.com/155616')" style="margin:10px">转到 西国之海妖（B站）</el-button>
          <el-button @click="onGoto('http://5sing.kugou.com/ariel/')" style="margin:10px">转到 司夏_西国海妖（5Sing）</el-button>
          <br><br>
        <el-button @click="onGoto('http://tieba.baidu.com/p/6028572704')" style="margin:10px">转到司夏_西国の海妖作品集（贴吧）</el-button>
        <el-button @click="onGoto('https://github.com/nathan21hz/neris-music-library')" style="margin:10px">司夏作品查询工具（GitHub）</el-button>
    </el-tab-pane>
    <el-tab-pane label="歌曲查询" name="query">
      <el-input v-model="search" placeholder="输入关键字搜索"></el-input>
      <el-table
        :data="tableData.filter(data => !search || data.title.toLowerCase().includes(search.toLowerCase()) || data.artists.toLowerCase().includes(search.toLowerCase()) || data.group.toLowerCase().includes(search.toLowerCase()) )" stripe 
        style="width: 100%">
      <el-table-column label="序号" prop="id" width="60"></el-table-column>
      <el-table-column label="曲名" prop="title"></el-table-column>
      <el-table-column label="演唱/和声" prop="artists"></el-table-column>
      <el-table-column label="分组" prop="group"></el-table-column>
      <el-table-column label="备注" prop="info"></el-table-column>
      <el-table-column width="100">
        <template slot="header" slot-scope="scope">
          链接
        </template>
        <template slot-scope="scope">
          <el-dropdown @command="handleDropdown">
            <el-button size="small" type="primary">转到链接
            </el-button>
            <el-dropdown-menu slot="dropdown">
              <el-dropdown-item :command="scope.row.netease" v-if="haveUrl(scope.row.netease)">网易云音乐</el-dropdown-item>
              <el-dropdown-item :command="scope.row.sing" v-if="haveUrl(scope.row.sing)">5Sing</el-dropdown-item>
              <el-dropdown-item :command="scope.row.qqmusic" v-if="haveUrl(scope.row.qqmusic)">QQ音乐</el-dropdown-item>
              <el-dropdown-item :command="scope.row.other" v-if="haveUrl(scope.row.other)">其他平台</el-dropdown-item>
              <el-dropdown-item :command="scope.row.other" disabled="true" v-if="!haveUrl(scope.row.netease || scope.row.sing || scope.row.qqmusic || scope.row.other)">暂无外链</el-dropdown-item>
            </el-dropdown-menu>
          </el-dropdown>
        </template>
      </el-table-column>
    </el-table>
  </el-tab-pane>
  </el-tabs>
  </div>
</body>

<script src="https://cdn.bootcss.com/vue/2.5.22/vue.min.js"></script>
<script src="https://cdn.bootcss.com/element-ui/2.4.11/index.js"></script>
<script src="https://cdn.bootcss.com/vue-resource/1.5.1/vue-resource.js"></script>
<script src="./main.js"></script>

</html>